FROM openjdk:11-jre-slim

ARG JAR_FILE
ARG PORT_NUMBER
ARG TIMEZONE
ENV TZ ${TIMEZONE}
ENV MY_JAR_FILE=${JAR_FILE}
ENV MY_PORT_NUMBER=${PORT_NUMBER}

EXPOSE ${MY_PORT_NUMBER}
ADD target/${MY_JAR_FILE} /opt/${MY_JAR_FILE}
ENTRYPOINT java -jar /opt/${MY_JAR_FILE} -Djava.net.preferIPv4Stack=true -Dwildfly-swarm.useUberJar=true